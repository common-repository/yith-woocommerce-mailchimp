jQuery(function(a){var l=a("#yith_wcmc_mailchimp_list, #yith_wcmc_shortcode_mailchimp_list, #yith_wcmc_widget_mailchimp_list, #yith_wcmc_export_list, #yith_wcmc_ecommerce360_list, #yith_wcmc_register_mailchimp_list"),m=a("#yith_wcmc_mailchimp_groups, #yith_wcmc_shortcode_mailchimp_groups, #yith_wcmc_shortcode_mailchimp_groups_selectable, #yith_wcmc_widget_mailchimp_groups, #yith_wcmc_widget_mailchimp_groups_selectable, #yith_wcmc_register_mailchimp_groups"),n=a("#yith_wcmc_export_field_waiting_products");
    l.parent().append(a("<a/>",{"class":"button button-secondary ajax-mailchimp-updater ajax-mailchimp-updater-list",id:"yith_wmcm_mailchimp_list_updater",href:"#",text:yith_wcmc.labels.update_list_button}));m.parent().append(a("<a/>",{"class":"button button-secondary ajax-mailchimp-updater ajax-mailchimp-updater-group",id:"yith_wcmc_mailchimp_group_updater",href:"#",text:yith_wcmc.labels.update_group_button}));n.parent().append(a("<a/>",{"class":"button button-secondary ajax-mailchimp-updater ajax-mailchimp-updater-field",
        id:"yith_wcmc_mailchimp_field_updater",href:"#",text:yith_wcmc.labels.update_field_button}));var p=function(c){var b=a(this),d=b.parent().find("select"),k=d.find("option:selected").val();c.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){b.unblock()},data:{force_update:!0,action:yith_wcmc.actions.retrieve_lists_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},dataType:"json",method:"POST",
        success:function(g){var f="",e=0;if(0!=g.length)for(e in g)f+='<option value="'+e+'" '+(k==e?'selected="selected"':"")+" >"+g[e]+"</option>";d.html(f);0==f.length?d.attr("disabled","disabled"):d.removeAttr("disabled")},url:ajaxurl})},q=function(c){var b=a(this).hasClass("ajax-mailchimp-updater-group")?a(this).parent().find("select"):a(this).parents("tr").next().find("select"),d=b.closest("td"),k=b.closest("tr").siblings().find(".list-select").find("option:selected").val(),g=[];b.find("option:selected").each(function(f,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  e){g[f]=a(e).val()});c.preventDefault();"undefined"!=typeof k&&0==k.length?b.prop("disabled"):b.removeProp("disabled");a.ajax({beforeSend:function(){d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){d.unblock()},data:{list:k,force_update:!0,action:yith_wcmc.actions.retrieve_groups_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},dataType:"json",method:"POST",success:function(f){var e="",h=0;if(0!=f.length)for(h in f)e+='<option value="'+
            h+'" '+(-1<a.inArray(h,g)?'selected="selected"':"")+" >"+f[h]+"</option>";b.html(e);0==e.length?b.attr("disabled","disabled"):b.removeAttr("disabled","disabled");b.select2()},url:ajaxurl})},r=function(c){var b=a(this).hasClass("ajax-mailchimp-updater-field")?a(this).parent().find("select"):a(this).parents("tr").next().find("select"),d=b.closest("td"),k=b.closest("tr").siblings().find(".list-select").find("option:selected").val(),g=[];b.find("option:selected").each(function(f,e){g[f]=a(e).val()});
        c.preventDefault();0==k.length?b.prop("disabled"):b.removeProp("disabled");a.ajax({beforeSend:function(){d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){d.unblock()},data:{list:k,force_update:!0,action:yith_wcmc.actions.retrieve_fields_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},dataType:"json",method:"POST",success:function(f){var e="",h=0;if(0!=f.length)for(h in f)e+='<option value="'+h+'" '+(-1<a.inArray(h,g)?'selected="selected"':
                "")+" >"+f[h]+"</option>";b.html(e);0==e.length?b.prop("disabled"):b.removeProp("disabled");b.select2()},url:ajaxurl})};l=function(){a(document).off("click",".ajax-mailchimp-updater-list");a(document).off("click",".ajax-mailchimp-updater-group");a(document).off("click",".ajax-mailchimp-updater-field");a(document).off("change",".list-select");a(document).on("click",".ajax-mailchimp-updater-list",p);a(document).on("click",".ajax-mailchimp-updater-group",q);a(document).on("click",".ajax-mailchimp-updater-field",
        r);a(document).on("change",".list-select",function(){a(this).parents().find(".ajax-mailchimp-updater-group").click();a(this).parents().find(".ajax-mailchimp-updater-field").click()})};a("#yith_wcmc_store_delete_store").length&&(a("#plugin-fw-wc-reset").hide(),a("#plugin-fw-wc").find('input[type="submit"]').hide());a("#yith_wcmc_store_integration_list").length&&(a("#plugin-fw-wc-reset").hide(),a("#plugin-fw-wc").find('input[type="submit"]').val(yith_wcmc.labels.connect_store));(function(){a("#yith_wcmc_panel_store").on("click",
        ".send-request",function(){var c=a(this).data("url");console.log(c);window.location.href=c})})();l();a("body").on("add_updater_handler",l);a("#yith_wcmc_store_delete_store").on("click",function(c){var b=a(this);c.preventDefault();window.confirm(yith_wcmc.labels.confirm_store_delete)&&a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:yith_wcmc.actions.disconnect_store_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},
        success:function(){window.location.reload()},url:ajaxurl})});a("#yith_wcmc_checkout_trigger").on("change",function(){var c=a(this),b=a("#yith_wcmc_subscription_checkbox"),d=a("#yith_wcmc_double_optin");"never"!=c.val()?(b.parents("tr").show(),d.parents("tr").show(),a("#yith_wcmc_email_type").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_label").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").show(),
        a("#yith_wcmc_update_existing").parents("tr").show(),a("#yith_wcmc_replace_interests").parents("tr").show(),a("#yith_wcmc_send_welcome").parents("tr").show(),b.change(),d.change()):(b.parents("tr").hide(),d.parents("tr").hide(),a("#yith_wcmc_email_type").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_label").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").hide(),a("#yith_wcmc_update_existing").parents("tr").hide(),
        a("#yith_wcmc_replace_interests").parents("tr").hide(),a("#yith_wcmc_send_welcome").parents("tr").hide())}).change();a("#yith_wcmc_ecommerce360_enable").on("change",function(){var c=a(this),b=a("#yith_wcmc_ecommerce360_cookie_lifetime"),d=a("#yith_wcmc_ecommerce360_list");c.is(":checked")?(b.parents("tr").show(),d.parents("tr").show()):(b.parents("tr").hide(),d.parents("tr").hide())}).change();a("#yith_wcmc_subscription_checkbox").on("change",function(){var c=a(this);c.is(":visible")&&(c.is(":checked")?
        (a("#yith_wcmc_subscription_checkbox_label").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").show()):(a("#yith_wcmc_subscription_checkbox_label").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").hide()))}).change();a("#yith_wcmc_double_optin").on("change",function(){var c=a(this);c.is(":visible")&&(c.is(":checked")?
        a("#yith_wcmc_send_welcome").parents("tr").hide():a("#yith_wcmc_send_welcome").parents("tr").show())}).change();a("#yith_wcmc_shortcode_double_optin").on("change",function(){var c=a(this);c.is(":visible")&&(c.is(":checked")?a("#yith_wcmc_shortcode_send_welcome").parents("tr").hide():a("#yith_wcmc_shortcode_send_welcome").parents("tr").show())}).change();a("#yith_wcmc_widget_double_optin").on("change",function(){var c=a(this);c.is(":visible")&&(c.is(":checked")?a("#yith_wcmc_widget_send_welcome").parents("tr").hide():
        a("#yith_wcmc_widget_send_welcome").parents("tr").show())}).change()});